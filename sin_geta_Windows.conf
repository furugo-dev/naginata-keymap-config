# keymapper 新下駄配列 Windows
#
# 新下駄配列(https://kouy.exblog.jp/13627994/)
# 『DvorakJ』用設定ファイル sin-geta.txtを参考に作成しています
#
# 入力を開始するには
#  新下駄配列モードには「ESC」キーを押しながらスペースキーを押すことで入力開始です
#
# この定義ファイルはWindows用です
#　IME ON OFF のキーと記号入力がWindows用に合わせています
#　
# keymapper version >= 5.2.0
#
#@options no-update
@allow-unmapped-commands
@enforce-lowercase-commands
@forward-modifiers Shift Control Alt

# 定義開始
  IMEState = Virtual

# =============================================
# 英数モード
# =============================================
[modifier = "!IMEState !Meta !Alt !Control !Shift"]
# 新下駄配列は かな{スペース} キーで入力開始します
  Escape{Space} >> !IMEState IMEState Lang1 ^  # 新下駄配列モード IME ON
  NonConvert{Space} >> !IMEState 16ms Lang2 ^  # 英数モード IME OFF

# 英数、かなの順にキーと押すとローマ字入力ができる
#  Lang1 >> !IMEState Lang1 ^      # 英数モード IME ON
  NonConvert >> !IMEState 16ms Lang2 ^ # 英数モード IME OFF

[default]

# =============================================
# 新下駄配列モード
# =============================================
[modifier = "IMEState !Meta !Control !Alt !Shift"]
# 新下駄配列は かな{スペース} キーで入力開始します
  Escape{Space} >> !IMEState IMEState Lang1 ^  # 新下駄配列モード IME ON
  NonConvert{Space} >> !IMEState 16ms Lang2 ^  # 英数モード IME OFF

# 新下駄配列モード中は かなキーを押しても英数モードにならない
#  Lang1 >> !IMEState IMEState Lang1 ^ # 新下駄配列モード IME ON
  NonConvert >> !IMEState 16ms Lang2 ^     # 英数モード IME OFF

# K
  (K 1) >> (X A) ^ #ぁ
  (K 2) >> (X I) ^ #ぃ
  (K 3) >> (X U) ^ #ぅ
  (K 4) >> (X E) ^ #ぇ
  (K 5) >> (X O) ^ #ぉ

  (K Q) >> (F A) ^ #ふぁ
  (K W) >> (G O) ^ #ご
  (K E) >> (H U) ^ #ふ
  (K R) >> (F I) ^ #ふぃ
  (K T) >> (F E) ^ #ふぇ

  (K A) >> (H O) ^ #ほ
  (K S) >> (Z I) ^ #じ
  (K D) >> (R E) ^ #れ
  (K F) >> (M O) ^ #も
  (K G) >> (Y U) ^ #ゆ

  (K Z) >> (D U) ^ #づ
  (K X) >> (Z O) ^ #ぞ
  (K C) >> (B O) ^ #ぼ
  (K V) >> (M U) ^ #む
  (K B) >> (F A) ^ #ふぉ

# D
  (D 7) >> Comma #、
  (D 8) >> 0x0030 #「
  (D 9) >> 0x0031 #」
  (D 0) >> Semicolon #；
  (D Minus) >> 0x002F # ＠

  (D Y) >> (W I) ^ #うぃ
  (D U) >> (P A) ^ #ぱ
  (D I) >> (Y O) ^ #よ
  (D O) >> (M I) ^ #み
  (D P) >> (W E) ^ #うぇ
  (D 0x002F) >> (W H O) ^ #うぉ

  (D H) >> (H E) ^ #へ
  (D J) >> A ^ #あ
  (D Semicolon) >> E ^ #え

  (D N) >> (S E) ^ #せ
  (D M) >> (N E) ^ #ね
  (D Comma) >> (B E) ^ #べ
  (D Period) >> (P U) ^ #ぷ
  (D Slash) >> (V U) ^ #ヴ

# L
  (L 1) >> (X Y A) ^ #ゃ
  (L 2) >> (M Y A) ^ #みゃ
  (L 3) >> (M Y U) ^ #みゅ
  (L 4) >> (M Y O) ^ #みょ
  (L 5) >> (X W A) ^ #ゎ

  (L Q) >> (D I) ^ #ぢ
  (L W) >> (M E) ^ #め
  (L E) >> (K E) ^ #け
  (L R) >> (T H I) ^ #てぃ
  (L T) >> (D H I) ^ #でぃ

  (L A) >> (W O) ^ #を
  (L S) >> (S A) ^ #さ
  (L D) >> O ^ #お
  (L F) >> (R I) ^ #り
  (L G) >> (Z U) ^ #ず

  (L Z) >> (Z E) ^ #ぜ
  (L X) >> (Z A) ^ #ざ
  (L C) >> (G I) ^ #ぎ
  (L V) >> (R O) ^ #ろ
  (L B) >> (N U) ^ #ぬ

# S
  (S 7) >> Period #。
  (S 8) >> Shift{8} #（
  (S 9) >> Shift{9} #）
  (S 0) >> Quote #：
  (S Minus) >> Shift{Quote} # ＊

  (S Y) >> (S Y E) ^ #しぇ
  (S U) >> (P E) ^ #ぺ
  (S I) >> (D O) ^ #ど
  (S O) >> (Y A) ^ #や
  (S P) >> (J E) ^ #じぇ

  (S H) >> (B E) ^ #べ
  (S J) >> (R A) ^ #ら
  (S Semicolon) >> (S O) ^ #そ

  (S N) >> (W A) ^ #わ
  (S M) >> (D A) ^ #だ
  (S Comma) >> (P I) ^ #ぴ
  (S Period) >> (P O) ^ #ぽ
  (S Slash) >> (T Y E) ^ #ちぇ

# I
  (I 1) >> (X Y U) ^ #ゅ
  (I 2) >> (B Y A) ^ #びゃ
  (I 3) >> (B Y U) ^ #びゅ
  (I 4) >> (B Y O) ^ #びょ

  (I Q) >> (H Y U) ^ #ひゅ
  (I W) >> (S Y U) ^ #しゅ
  (I E) >> (S Y O) ^ #しゅ
  (I R) >> (K Y U) ^ #きゅ
  (I T) >> (T Y U) ^ #ちゅ

  (I A) >> (H Y O) ^ #ひょ
  (I F) >> (K Y O) ^ #きょ
  (I G) >> (T Y O) ^ #ちょ

  (I Z) >> (H Y A) ^ #ひゃ
  (I C) >> (S Y A) ^ #しゃ
  (I V) >> (K Y A) ^ #きゃ
  (I B) >> (T Y A) ^ #ちゃ

# O
  (O 1) >> (X Y O) ^ #ょ
  (O 2) >> (P Y A) ^ #ぴゃ
  (O 3) >> (P Y U) ^ #ぴゅ
  (O 4) >> (P Y O) ^ #ぴょ

  (O Q) >> (R Y U) ^ #りゅ
  (O W) >> (Z Y U) ^ #じゅ
  (O E) >> (Z Y O) ^ #じょ
  (O R) >> (G Y U) ^ #ぎゅ
  (O T) >> (N Y U) ^ #にゅ

  (O A) >> (R Y O) ^ #りょ
  (O F) >> (G Y O) ^ #ぎょ
  (O G) >> (N Y O) ^ #にょ

  (O Z) >> (R Y A) ^ #りゃ
  (O C) >> (Z Y A) ^ #じゃ
  (O V) >> (G Y A) ^ #ぎゃ
  (O B) >> (N Y A) ^ #にゃ

# R
  (R F) >> Slash ^ #・
  (R G) >> Slash ^ #・

# F
  (F G) >> "「」" Enter ArrowLeft ^ #「」
  (F V) >> "！" ^ #！
  (F B) >> "！" ^ #！

# U
  (H U) >> "／" ^ #／

# J
  (H J) >> "（）" Enter ArrowLeft ^ #（）
  (N J) >> "？" ^ #？

# ********** 単打 **********
  Q >> Minus ^ #ー
  W >> (N I) ^ #に
  E >> (H A) ^ #は
  R >> Comma ^ #、
  T >> (T I) ^ #ち
  Y >> (G U) ^ #ぐ
  U >> (B A) ^ #ば
  I >> (K O) ^ #こ
  O >> (G A) ^ #が
  P >> (H I) ^ #ひ
  0x002F >> (G E) ^ #げ

  A >> (N O) ^ #の
  S >> (T O) ^ #と
  D >> (K A) ^ #か
  F >> (X N) ^ #ん
  G >> (X T U) ^ #っ
  H >> (K U) ^ #く
  J >> U ^ #う
  K >> I ^ #い
  L >> (S I) ^ #し
  Semicolon >> (N A) ^ #な
  Quote >> Backspace

  Z >> (S U) ^ #す
  X >> (M A) ^ #ま
  C >> (K I) ^ #き
  V >> (R U) ^ #る
  B >> (T U) ^ #つ
  N >> (T E) ^ #て
  M >> (T A) ^ #た
  Comma >> (D E) ^ #で 
  Period >> Period ^ #。
  Slash >> (B U) ^ #ぶ

[default]

