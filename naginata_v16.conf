# keymapper 薙刀式 v16（快速版）
#
# 薙刀式配列v16（快速版）　　作　大岡俊彦
# 2025年4月18日[【薙刀式】v16快速版発表](http://oookaworks.seesaa.net/article/509198141.html#gsc.tab=0)

#@options no-update
@allow-unmapped-commands
@enforce-lowercase-commands
@forward-modifiers Shift Control Alt
@virtual-keys-toggle false

#@include "naginata_alias.conf" # 定義をnaginata_alias.confに分割後に有効にする
#定義をファイル分割する箇所
# naginata_alias.conf
  a = A ^ # あ
  i = I ^ # い
  u = U ^ # う
  e = E ^ # え
  o = O ^ # お
  ka = (K A) ^ # か
  ki = (K I) ^ # き
  ku = (K U) ^ # く
  ke = (K E) ^ # け
  ko = (K O) ^ # こ
  sa = (S A) ^ # さ
  si = (S I) ^ # し
  su = (S U) ^ # す
  se = (S E) ^ # せ
  so = (S O) ^ # そ
  ta = (T A) ^ # た
  ti = (T I) ^ # ち
  tu = (T U) ^ # つ
  te = (T E) ^ # て
  to = (T O) ^ # と
  na = (N A) ^ # な
  ni = (N I) ^ # に
  nu = (N U) ^ # ぬ
  ne = (N E) ^ # ね
  no = (N O) ^ # の
  ha = (H A) ^ # は
  hi = (H I) ^ # ひ
  hu = (H U) ^ # ふ
  he = (H E) ^ # へ
  ho = (H O) ^ # ほ
  ma = (M A) ^ # ま
  mi = (M I) ^ # み
  mu = (M U) ^ # む
  me = (M E) ^ # め
  mo = (M O) ^ # も
  ra = (R A) ^ # ら
  ri = (R I) ^ # り
  ru = (R U) ^ # る
  re = (R E) ^ # れ
  ro = (R O) ^ # ろ
  ya = (Y A) ^ # や
  yu = (Y U) ^ # ゆ
  yo = (Y O) ^ # よ
  wa = (W A) ^ # わ
  wo = (W O) ^ # を
  xn = (X N) ^ # ん
  xtu = (X T U) ^ # っ
  ltu = (L T U) ^ # っ
  ga = (G A) ^ # が
  gi = (G I) ^ # ぎ
  gu = (G U) ^ # ぐ
  ge = (G E) ^ # げ
  go = (G O) ^ # ご
  za = (Z A) ^ # ざ
  zi = (Z I) ^ # じ
  zu = (Z U) ^ # ず
  ze = (Z E) ^ # ぜ
  zo = (Z O) ^ # ぞ
  da = (D A) ^ # だ
  di = (D I) ^ # ぢ
  du = (D U) ^ # づ
  de = (D E) ^ # で
  do = (D O) ^ # ど
  ba = (B A) ^ # ば
  bi = (B I) ^ # び
  bu = (B U) ^ # ぶ
  be = (B E) ^ # べ
  bo = (B O) ^ # ぼ
  pa = (P A) ^ # ぱ
  pi = (P I) ^ # ぴ
  pu = (P U) ^ # ぷ
  pe = (P E) ^ # べ
  po = (P O) ^ # ぼ
  xa = (X A) ^ # ぁ
  xi = (X I) ^ # ぃ
  xu = (X U) ^ # ぅ
  xe = (X E) ^ # ぇ
  xo = (X O) ^ # ぉ
  xka = (X K A) ^ # ヵ
  xke = (X K E) ^ # ヶ
  xya = (X Y A) ^ # ゃ
  xyu = (X Y U) ^ # ゅ
  xyo = (X Y O) ^ # ょ
  xwa = (X W A) ^ # ゎ
  kya = (K Y A) ^ # きゃ
  kyu = (K Y U) ^ # きゅ
  kyo = (K Y O) ^ # きょ
  sya = (S Y A) ^ # しゃ
  syu = (S Y U) ^ # しゅ
  syo = (S Y O) ^ # しょ
  tya = (T Y A) ^ # ちゃ
  tyu = (T Y U) ^ # ちゅ
  tyo = (T Y O) ^ # ちょ
  nya = (N Y A) ^ # にゃ
  nyu = (N Y U) ^ # にゅ
  nyo = (N Y O) ^ # にょ
  hya = (H Y A) ^ # ひゃ
  hyu = (H Y U) ^ # ひゅ
  hyo = (H Y O) ^ # ひょ
  mya = (M Y A) ^ # みゃ
  myu = (M Y U) ^ # みゅ
  myo = (M Y O) ^ # みょ
  rya = (R Y A) ^ # りゃ
  ryu = (R Y U) ^ # りゅ
  ryo = (R Y O) ^ # りょ
  gya = (G Y A) ^ # ぎゃ
  gyu = (G Y U) ^ # ぎゅ
  gyo = (G Y O) ^ # ぎょ
  zya = (Z Y A) ^ # じゃ
  zyu = (Z Y U) ^ # じゅ
  zyo = (Z Y O) ^ # じょ
  dya = (D Y A) ^ # ぢゃ
  dyu = (D Y U) ^ # ぢゅ
  dyo = (D Y O) ^ # ぢょ
  bya = (B Y A) ^ # びゃ
  byu = (B Y U) ^ # びゅ
  byo = (B Y O) ^ # びょ
  pya = (P Y A) ^ # ぴゃ
  pyu = (P Y U) ^ # ぴゅ
  pyo = (P Y O) ^ # ぴょ
  fa = (F A) ^ # ふぁ
  fi = (F I) ^ # ふぃ
  fyu = (F Y U) ^ # ふゅ
  fe = (F E) ^ # ふぇ
  fo = (F O) ^ # ふぉ
  va = (V A) ^ # ヴぁ
  vi = (V I) ^ # ヴぃ
  vu = (V U) ^ # ヴ
  ve = (V E) ^ # ヴぇ
  vo = (V O) ^ # ヴぉ
  vyu = (V Y U) ^ # ヴゅ
  qa = (Q A) ^ # くぁ
  qi = (Q I) ^ # くぃ
  qe = (Q E) ^ # くぇ
  qo = (Q O) ^ # くぉ
  kuxwa = (K U X W A) ^ # くゎ
  gwa = (G W A) ^ # ぐぁ
  gwi = (G W I) ^ # ぐぃ
  gwe = (G W E) ^ # ぐぇ
  gwo = (G W O) ^ # ぐぉ
  guxwa = (G U X W A) ^ # ぐゎ
  tsa = (T S A) ^ # つぁ
  wi = (W I) ^ # うぃ
  we = (W E) ^ # うぇ
  who = (W H O) ^ # うぉ
  sye = (S Y E) ^ # しぇ
  tye = (T Y E) ^ # ちぇ
  je = (J E) ^ # じぇ
  dye = (D Y E) ^ # ぢぇ
  ye = (Y E) ^ # いぇ
  thi = (T H I) ^ # てぃ
  dhi = (D H I) ^ # でぃ
  thu = (T H U) ^ # てゅ
  dhu = (D H U) ^ # でゅ
  twu = (T W U) ^ # とぅ
  dwu = (D W U) ^ # どぅ

# システム共通の　キー定義
  BS = Backspace
  C_ = Control
  CR = Enter
  ESC = Escape
  ESCx = repeat[ Escape, default[$0, 1] ] # {Escape $0}
  M_ = Meta
  RET = Enter
  S_ = Shift
  SP_ = Space
  SP_x = repeat[ Space, default[$0, 1] ] # {Space $0}
  UP = ArrowUp # {↑}
  UPx = repeat[ ArrowUp, default[$0, 1] ] # {↑ $0}
  DOWN = ArrowDown # {↓}
  DOWNx = repeat[ ArrowDown, default[$0, 1] ] # {↓ $0}
  LEFT = ArrowLeft  # {←}
  LEFTx = repeat[ ArrowLeft, default[$0, 1] ] # {← $0}
  RIGHT = ArrowRight # {→}
  RIGHTx = repeat[ ArrowRight, default[$0, 1] ] # {→ $0}
  DEL = Delete # {Del}
  DELx = repeat[ Delete, default[$0, 1] ] # {Del $0}
[default]

# システム別のキー定義
# MacOS 標準IME　Windows風のキー操作をON 条件で設定
[system="MacOS"]
  CHR = $(printf "$0" | LANG=ja_JP.UTF-8 pbcopy) 64ms Meta{V} 64ms
  STR = CHR["$0"] ^
  PREV = Control{P} 32ms # 1行　戻る
  NEXT = Control{N} 32ms # 1行　進む
  HOME = Control{A} 32ms # {Home}
  END = Control{E} 32ms # {End}
  BUN_MATU = Meta{ArrowDown} #文末に移動
  COPY = Meta{C} 32ms
  PASTE = Meta{V} 32ms
  CUT = Meta{X} 32ms
  SAI_HEN = Lang1 Lang1 # 再変換
  KATA_HEN = Control{I} # ^i カタカナ
  HIRA_HEN = Control{U} # ^u ひらがな
  SAVE = Meta{S} # ファイル保存
  Undo = Meta{Z} # Undo
  Redo = Shift{Meta{Z}} # Redo
  CLIP_CLR = CHR["　"] (Shift Control){B} 24ms Meta{X} 24ms
[default]

[system="Windows"]
  ime_complete = Slash Enter Backspace # 汎用: Slash Enter Backspace   # 「・」が残る欠点あり
  ime_pause = ime_complete Lang2
  ime_resume = Lang1

  CHR = "$0" Enter
  STR = ime_pause "$0" ime_resume ^
  PREV = ArrowRight # 1行戻る 縦書き 右移動
  NEXT = ArrowLeft # 1行進む 縦書き 左移動
  HOME = Home # {Home}
  END = End # {End}
  BUN_MATU = Control{End} #文末に移動
  COPY = Control{C}
  PASTE = Control{V{130ms}}
  CUT = Control{X}
  SAI_HEN = M_{Slash} IMEState # 再変換
  KATA_HEN = F7 # ^i カタカナ
  HIRA_HEN = F6 # ^u ひらがな
  SAVE = Control{S} # ファイル保存
  Undo = Control{Z} # Undo
  Redo = Control{Y} # Redo
  CLIP_CLR = Enter{24ms} Space Shift{Home} Control{X} Backspace # コピークリア
[default]

  Q1 = ($5 $6) >> $0
  Q2 = ($5 $7) >> $1
  Q3 = ($5 $8) >> $2
  Q4 = ($5 $9) >> $3
  Q5 = ($5 $10) >> $4

  Q12345 = Q1; Q2; Q3; Q4; Q5
  Q1234_ = Q1; Q2; Q3; Q4
  Q123_5 = Q1; Q2; Q3;     Q5
  Q123__ = Q1; Q2; Q3
  Q12_45 = Q1; Q2;     Q4; Q5
  Q12_4_ = Q1; Q2;     Q4
  Q12__5 = Q1; Q2;         Q5
  Q12___ = Q1; Q2
  Q1_345 = Q1;     Q3; Q4; Q5
  Q1_34_ = Q1;     Q3; Q4 
  Q1_3_5 = Q1;     Q3      Q5
  Q1_3__ = Q1;     Q3
  Q1__45 = Q1;         Q4; Q5
  Q1__4_ = Q1;         Q4
  Q1___5 = Q1;             Q5
  Q1____ = Q1
  Q_2345 =     Q2; Q3; Q4; Q5
  Q_234_ =     Q2; Q3; Q4
  Q_23_5 =     Q2; Q3;     Q5
  Q_23__ =     Q2; Q3
  Q_2_45 =     Q2;     Q4; Q5
  Q_2_4_ =     Q2;     Q4
  Q_2__5 =     Q2;         Q5
  Q_2___ =     Q2
  Q__345 =         Q3; Q4; Q5
  Q__34_ =         Q3; Q4 
  Q__3_5 =         Q3;     Q5
  Q__3__ =         Q3
  Q___45 =             Q4; Q5
  Q___4_ =             Q4
  Q____5 =                 Q5

  EDIT_1Q = Q12345[ $0, $1, $2, $3, $4, J K, Q,W,E,R,T ]
  EDIT_1A = Q12345[ $0, $1, $2, $3, $4, J K, A,S,D,F,G ]
  EDIT_1Z = Q12345[ $0, $1, $2, $3, $4, J K, Z,X,C,V,B ]
  EDIT_1Y = Q12345[ $0, $1, $2, $3, $4, D F, Y,U,I,O,P ]
  EDIT_1H = Q12345[ $0, $1, $2, $3, $4, D F, H,J,K,L,Semicolon  ]
  EDIT_1N = Q12345[ $0, $1, $2, $3, $4, D F, N,M,Comma,Period,Slash ]

  EDIT_2Q = Q12345[ $0, $1, $2, $3, $4, M Comma, Q,W,E,R,T ]
  EDIT_2A = Q12345[ $0, $1, $2, $3, $4, M Comma, A,S,D,F,G ]
  EDIT_2Z = Q12345[ $0, $1, $2, $3, $4, M Comma, Z,X,C,V,B ]
  EDIT_2Y = Q12345[ $0, $1, $2, $3, $4, C V, Y,U,I,O,P ]
  EDIT_2H = Q12345[ $0, $1, $2, $3, $4, C V, H,J,K,L,Semicolon ]
  EDIT_2N = Q12345[ $0, $1, $2, $3, $4, C V, N,M,Comma,Period,Slash ]

  MEISI_Q = Q12345[ STR["$0"], STR["$1"], STR["$2"], STR["$3"], STR["$4"], U I, Q,W,E,R,T ]
  MEISI_A = Q12345[ STR["$0"], STR["$1"], STR["$2"], STR["$3"], STR["$4"], U I, A,S,D,F,G ]
  MEISI_Z = Q12345[ STR["$0"], STR["$1"], STR["$2"], STR["$3"], STR["$4"], U I, Z,X,C,V,B ]
  MEISI_Y = Q12345[ STR["$0"], STR["$1"], STR["$2"], STR["$3"], STR["$4"], E R, Y,U,I,O,P ]
  MEISI_H = Q12345[ STR["$0"], STR["$1"], STR["$2"], STR["$3"], STR["$4"], E R, H,J,K,L,Semicolon ]
  MEISI_N = Q12345[ STR["$0"], STR["$1"], STR["$2"], STR["$3"], STR["$4"], E R, N,M,Comma,Period,Slash ]

  CS_KB_ = $5{$6} >> $0; $5{$7} >> $1; $5{$8} >> $2; $5{$9} >> $3; $5{$10} >> $4
  CS_KB_Q = CS_KB_[ $0, $1, $2, $3, $4, Space, Q,W,E,R,T ]
  CS_KB_A = CS_KB_[ $0, $1, $2, $3, $4, Space, A,S,D,F,G ]
  CS_KB_Z = CS_KB_[ $0, $1, $2, $3, $4, Space, Z,X,C,V,B ]
  CS_KB_Y = CS_KB_[ $0, $1, $2, $3, $4, Space, Y,U,I,O,P ]
  CS_KB_H = CS_KB_[ $0, $1, $2, $3, $4, Space, H,J,K,L,Semicolon  ]
  CS_KB_N = CS_KB_[ $0, $1, $2, $3, $4, Space, N,M,Comma,Period,Slash ]
  KB_ = $5 >> $0; $6 >> $1; $7 >> $2; $8 >> $3; $9 >> $4
  KB_Q = KB_[ $0, $1, $2, $3, $4, Q,W,E,R,T ]
  KB_A = KB_[ $0, $1, $2, $3, $4, A,S,D,F,G ]
  KB_Z = KB_[ $0, $1, $2, $3, $4, Z,X,C,V,B ]
  KB_Y = KB_[ $0, $1, $2, $3, $4, Y,U,I,O,P ]
  KB_H = KB_[ $0, $1, $2, $3, $4, H,J,K,L,Semicolon  ]
  KB_N = KB_[ $0, $1, $2, $3, $4, N,M,Comma,Period,Slash ]
[default]
# END naginata_alias.conf
#定義をファイル分割する箇所　ここまで

  NaginataOff = Virtual
  IMEState = Virtual
  ime_on = IMEState Lang1 # かなオン
  ime_off = !IMEState 16ms Lang2 # かなオフ

# =============================================
# 英数モード
# =============================================
[modifier = "!NaginataOff !IMEState !Shift !Meta !Control !Alt"]
#　キーボード側のSandSを使う場合はコメントアウトして無効化してください
#
  Space{Any} >> Shift{Any} # SandS

# ********** 3キー同時 **********
# 編集モード1 JK DF
  EDIT_1Q[    BUN_MATU^, CHR["／"]^,           ,      SAVE^, CHR["・"]^ ]; EDIT_1Y[        HOME^, S_{END} BS^,  SAI_HEN^,          DEL^, S_{ESCx[2]}^ ]
  EDIT_1A[ STR["……"] , CHR["『"]^, CHR["？"]^, CHR["「"]^, CHR["（"]^ ]; EDIT_1H[ S_{RET} END^,         UP^,   S_{UP}^,   S_{UPx[7]}^,    KATA_HEN^ ]
  EDIT_1Z[ CHR["――"]^, CHR["』"]^, CHR["！"]^, CHR["」"]^, CHR["）"]^ ]; EDIT_1N[         END^,       DOWN^, S_{DOWN}^, S_{DOWNx[7]}^,    HIRA_HEN^ ]

# 編集モード2 MComma CV
  SERIHU_HAGI = HOME PREV END DELx[2] NEXT # セリフ接ぎ
  TOGAKI_HAGI = HOME PREV END DELx[4] NEXT # ト書き接ぎ
  SERIHU_KIRI = HOME CR{24ms} SP_x[1] NEXT # セリフ切り
  TOGAKI_KIRI = HOME CR{24ms} SP_x[3] NEXT # ト書き切り
  __x__x__x = CHR["　　　×　　　×　　　×"] CR

  EDIT_2Q[ CHR["｜"]^, __x__x__x^,  SERIHU_HAGI^,            SERIHU_KIRI^,            CHR["〇"]^ ]; EDIT_2Y[ S_{HOME}^,      CUT^,   SAI_HEN^,        PASTE^,          Undo^ ]
  EDIT_2A[ CHR["《"]^, CHR["【"]^,  TOGAKI_HAGI^,            TOGAKI_KIRI^,              SP_x[3]^ ]; EDIT_2H[     COPY^,     LEFT^,     RIGHT^,     CLIP_CLR^,          Redo^ ]
  EDIT_2Z[ CHR["》"]^, CHR["】"]^, CHR["」"] CR^, CHR["」"] CR CHR["「"]^, CHR["」"] CR SP_x[1]^ ]; EDIT_2N[  S_{END}^, S_{LEFT}^, S_{RIGHT}^, S_{LEFTx[7]}^, S_{RIGHTx[7]}^ ]

# ********** 2キー同時 **********
# 機能部分
  (H J) >> ime_on ^
  (F G) >> ime_off ^
  (V M) >> Enter ^

# =============================================
# かなモード
# =============================================
[modifier = "!NaginataOff IMEState !Meta !Control !Alt"]
# 左右シフト+アルファベット で英数モードに
  Alpha = A|B|C|D|E|F|G|H|I|J|K|L|M|N|O|P|Q|R|S|T|U|V|W|X|Y|Z
  Shift{Alpha} >> Shift{Alpha} !Shift Enter ime_off ^

# 左右シフト+アルファベット以外
  apply[ Shift{$0} >> Shift{$0}, Semicolon, Comma, Period, Slash ]

# ********** センターシフト **********
  TOU_TEN = ( Comma Enter )^ # "、" 読点（とうてん）
  KU_TEN = ( Period Enter )^ # "。" 句点（くてん）

  CS_KB_Q[       , nu[ぬ],  ri[り],      me[め], S_{LEFT[シ左]} ]; CS_KB_Y[ S_{RIGHT[シ右]},     sa[さ], yo[よ],  e[え], yu[ゆ] ]
  CS_KB_A[ se[せ], mi[み],  ni[に],      ma[ま],         ti[ち] ]; CS_KB_H[          ya[や],     no[の], mo[も], tu[つ], hu[ふ] ]
  CS_KB_Z[ ho[ほ], hi[ひ],  wo[を], TOU_TEN[、],         mu[む] ]; CS_KB_N[           o[お], KU_TEN[。], ne[ね], wa[わ], re[れ] ]

# ********** 3キー同時 **********
# 拗音、外来音
  Q__3_5[       ___, ___, gyo[ぎょ], ___, gyu[ぎゅ], W J, Y,U,I,O,P ]
  Q1____[ gya[ぎゃ], ___,       ___, ___,       ___, W J, H,J,K,L,Semicolon ]
  Q__3_5[       ___, ___, zyo[じょ], ___, zyu[じゅ], R J, Y,U,I,O,P ]
  Q1____[ zya[じゃ], ___,       ___, ___,       ___, R J, H,J,K,L,Semicolon ]
  Q__3_5[       ___, ___, dyo[ぢょ], ___, dyu[ぢゅ], G J, Y,U,I,O,P ]
  Q1____[ dya[ぢゃ], ___,       ___, ___,       ___, G J, H,J,K,L,Semicolon ]
  Q__3_5[       ___, ___, byo[びょ], ___, byu[びゅ], X J, Y,U,I,O,P ]
  Q1____[ bya[びゃ], ___,       ___, ___,       ___, X J, H,J,K,L,Semicolon ]
  Q__3_5[       ___, ___, pyo[ぴょ], ___, pyu[ぴゅ], X M, Y,U,I,O,P ]
  Q1____[ pya[ぴゃ], ___,       ___, ___,       ___, X M, H,J,K,L,Semicolon ]
  
  Q_2___[ ____, dhi[でぃ], ____, ____, ____,  E K, H,J,K,L,Semicolon ]
  Q_2___[ ____, thi[てぃ], ____, ____, ____,  E K, N,M,Comma,Period,Slash ]
  Q_2___[ ____, dhu[でゅ], ____, ____, ____,  E P, H,J,K,L,Semicolon ]
  Q_2___[ ____, thu[てゅ], ____, ____, ____,  E P, N,M,Comma,Period,Slash ]

  Q_2___[ ____, dwu[どぅ], ____, ____, ____,  D L, H,J,K,L,Semicolon ]
  Q_2___[ ____, twu[とぅ], ____, ____, ____,  D L, N,M,Comma,Period,Slash ]

  Q_2___[ ____,  je[じぇ], ____, ____, ____,  R O, H,J,K,L,Semicolon ]
  Q_2___[ ____, syu[しゅ], ____, ____, ____,  R O, N,M,Comma,Period,Slash ]
  Q_2___[ ____, dye[ぢぇ], ____, ____, ____,  G O, H,J,K,L,Semicolon ]
  Q_2___[ ____, tye[ちぇ], ____, ____, ____,  G O, N,M,Comma,Period,Slash ]

  Q___45[      ___,      ___,      ___, fe[ふぇ], fyu[ふゅ], V Semicolon, Y,U,I,O,P ]
  Q_23__[      ___, fa[ふぁ], fi[ふぃ],      ___,       ___, V Semicolon, H,J,K,L,Semicolon ]
  Q1____[ fo[ふぉ],      ___,      ___,      ___,       ___, V Semicolon, N,M,Comma,Period,Slash ]

  Q___45[      ___,      ___,      ___, ve[ゔぇ], vyu[ゔゅ], F L, Y,U,I,O,P ]
  Q_23_5[      ___, va[ゔぁ], vi[ゔぃ],      ___,    vu[ゔ], F L, H,J,K,L,Semicolon ]
  Q1____[ vo[ゔぉ],      ___,      ___,      ___,       ___, F L, N,M,Comma,Period,Slash ]

  Q___4_[       ___,       ___,       ___, we[うぇ], ___, V L, Y,U,I,O,P ]
  Q_23__[       ___, tsa[つぁ],  wi[うぃ],      ___, ___, V L, H,J,K,L,Semicolon ]
  Q1____[ who[うぉ],       ___,       ___,      ___, ___, V L, N,M,Comma,Period,Slash ]

  Q__3__[       ___,       ___,  ye[いぇ],      ___, ___, V O, H,J,K,L,Semicolon ]

  Q___4_[       ___,       ___,       ___,    qe[くぇ], ___, V H, Y,U,I,O,P ]
  Q_23__[       ___,  qa[くぁ],  qi[くぃ],         ___, ___, V H, H,J,K,L,Semicolon ]
  Q1__4_[  qo[くぉ],       ___,       ___, kuxwa[くゎ], ___, V H, N,M,Comma,Period,Slash ]

  Q___4_[       ___,       ___,       ___,   gwe[ぐぇ], ___, F H, Y,U,I,O,P ]
  Q_23__[       ___, gwa[ぐぁ], gwi[ぐぁ],       _____, ___, F H, H,J,K,L,Semicolon ]
  Q1__4_[ gwo[ぐぉ],       ___,       ___, guxwa[ぐゎ], ___, F H, N,M,Comma,Period,Slash ]

# 編集モード1 JK DF
  NAKA_GURO = Slash # ”・”　中黒

  EDIT_1Q[    BUN_MATU^, CHR["／"]^,           ,      SAVE^, NAKA_GURO^ ]; EDIT_1Y[        HOME^, S_{END} BS^,  SAI_HEN^,          DEL^, S_{ESCx[2]}^ ]
  EDIT_1A[ STR["……"] , CHR["『"]^, CHR["？"]^, CHR["「"]^, CHR["（"]^ ]; EDIT_1H[ S_{RET} END^,         UP^,   S_{UP}^,   S_{UPx[7]}^,    KATA_HEN^ ]
  EDIT_1Z[ CHR["――"]^, CHR["』"]^, CHR["！"]^, CHR["」"]^, CHR["）"]^ ]; EDIT_1N[         END^,       DOWN^, S_{DOWN}^, S_{DOWNx[7]}^,    HIRA_HEN^ ]

# 編集モード2 MComma CV
  SERIHU_HAGI = HOME PREV END DELx[2] NEXT # セリフ接ぎ
  TOGAKI_HAGI = HOME PREV END DELx[4] NEXT # ト書き接ぎ
  SERIHU_KIRI = HOME CR{24ms} SP_x[1] NEXT # セリフ切り
  TOGAKI_KIRI = HOME CR{24ms} SP_x[3] NEXT # ト書き切り
  __x__x__x = CHR["　　　×　　　×　　　×"] CR

  EDIT_2Q[ CHR["｜"]^, __x__x__x^,  SERIHU_HAGI^,            SERIHU_KIRI^,            CHR["〇"]^ ]; EDIT_2Y[ S_{HOME}^,      CUT^,   SAI_HEN^,        PASTE^,          Undo^ ]
  EDIT_2A[ CHR["《"]^, CHR["【"]^,  TOGAKI_HAGI^,            TOGAKI_KIRI^,              SP_x[3]^ ]; EDIT_2H[     COPY^,     LEFT^,     RIGHT^,     CLIP_CLR^,          Redo^ ]
  EDIT_2Z[ CHR["》"]^, CHR["】"]^, CHR["」"] CR^, CHR["」"] CR CHR["「"]^, CHR["」"] CR SP_x[1]^ ]; EDIT_2N[  S_{END}^, S_{LEFT}^, S_{RIGHT}^, S_{LEFTx[7]}^, S_{RIGHTx[7]}^ ]

# 固有名詞ショートカット UI ER
  MEISI_Q[ "", "天空のファルコーン", "天ファル", "神山",         "" ]; MEISI_Y[     "", "", "", "えりりん",     "" ]
  MEISI_A[ "",           "ミツルギ",     "韮澤",    "" , "チャンプ" ]; MEISI_H[ "山根", "", "",         "", "深町" ]
  MEISI_Z[ "",                   "",         "",     "",         "" ]; MEISI_N[     "", "", "",     "渡辺",     "" ]

# 濁音
  Q_234_[    ___, gi[ぎ], de[で], zi[じ],    ___, J, Q,W,E,R,T ]; Q_2_45[    ___,za[ざ], ____, zu[ず], be[べ], F, Y,U,I,O,P ]
  Q12345[ ze[ぜ], ge[げ], do[ど], ga[が], di[ぢ], J, A,S,D,F,G ]; Q1__45[ gu[ぐ],   ___, ____, du[づ], bu[ぶ], F, H,J,K,L,Semicolon ]
  Q12345[ bo[ぼ], bi[び], ba[ば], go[ご], zo[ぞ], J, Z,X,C,V,B ]; Q1____[ da[だ],   ___, ____,    ___,    ___, F, N,M,Comma,Period,Slash ]
# 半濁音
  Q____5[    ___,   ____,    ___, ___, pe[ぺ], V, Y,U,I,O,P ]
  Q____5[    ___,   ____,    ___, ___, pu[ぷ], V, H,J,K,L,Semicolon ]
  Q123__[ po[ぽ], pi[ぴ], pa[ぱ], ___,    ___, M, Z,X,C,V,B ]
# 小書き
  Q{S} >> xke[ヶ]
  Q{F} >> xka[ヵ]
  Q__345[     ___,    ___, xyo[ょ],  xe[ぇ], xyu[ゅ], Q, Y,U,I,O,P ]
  Q1234_[ xya[ゃ], xa[ぁ],  xi[ぃ],  xu[ぅ],     ___, Q, H,J,K,L,Semicolon ]
  Q1__4_[  xo[ぉ],   ___ ,     ___, xwa[ゎ],     ___, Q, N,M,Comma,Period,Slash ]
# 拗音、外来音
  Q_234_[ ___, kya[きゃ], rya[りゃ], sya[しゃ],       ___, H, Q,W,E,R,T ]
  Q_23_5[ ___, mya[みゃ], nya[にゃ],       ___, tya[ちゃ], H, A,S,D,F,G ]
  Q_2___[ ___, hya[ひゃ],       ___,       ___,       ___, H, Z,X,C,V,B ]
  Q_234_[ ___, kyu[きゅ], ryu[りゅ], syu[しゅ],       ___, P, Q,W,E,R,T ]
  Q_23_5[ ___, myu[みゅ], nyu[にゅ],       ___, tyu[ちゅ], P, A,S,D,F,G ]
  Q_2___[ ___, hyu[ひゅ],       ___,       ___,       ___, P, Z,X,C,V,B ]
  Q_234_[ ___, kyo[きょ], ryo[りょ], syo[しょ],       ___, I, Q,W,E,R,T ]
  Q_23_5[ ___, myo[みょ], nyo[にょ],       ___, tyo[ちょ], I, A,S,D,F,G ]
  Q_2___[ ___, hyo[ひょ],       ___,       ___,       ___, I, Z,X,C,V,B ]
# 機能部分
  (H J) >> ime_on ^
  (F G) >> ime_off ^
  (V M) >> Enter ^

# ********** 単打 **********
  ON_BIKI = Minus ^ # "ー" 音引き（おんびき）

  KB_Q[       , ki[き], te[て], si[し], LEFT[左] ]; KB_Y[ RIGHT[右], BS[後], ru[る], su[す],      he[へ] ]
  KB_A[ ro[ろ], ke[け], to[と], ka[か],  xtu[っ] ]; KB_H[    ku[く],  a[あ],  i[い],  u[う], ON_BIKI[ー] ]
  KB_Z[ ho[ほ], hi[ひ], ha[は], ko[こ],   so[そ] ]; KB_N[    ta[た], na[な], xn[ん], ra[ら],      re[れ] ]

[default]
  (Control Shift){0} >> NaginataOff ^ # 薙刀式オフ
  (Control Shift){1} >> !NaginataOff ^ # 薙刀式再開
